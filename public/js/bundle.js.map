{"version":3,"sources":["spinner.js","posts.js","helper.js","users.js","index.js"],"names":["hideSpinner","spinner","document","querySelector","classList","remove","parentNode","removeChild","showSpinner","add","insertAdjacentHTML","removePost","child","post","lastElementChild","renderPost","data","name","title","body","addEventListener","fetchPosts","event","id","target","dataset","userId","userName","fetch","then","response","json","catch","err","alert","registerEventListerner","Array","from","querySelectorAll","forEach","btn","displayUsers","header","htmlContent","map","user","email","unshift","join","fetchUserInfo","res","ok","error"],"mappings":";AAMO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,QAAA,iBAAA,EANA,IAAMA,EAAc,WACnBC,IAAAA,EAAUC,SAASC,cAAc,SACvCD,SAASC,cAAc,YAAYC,UAAUC,OAAO,eACpDJ,EAAQK,WAAWC,YAAYN,IAG1B,QAAA,YAAA,EAAA,IAAMO,EAAc,WACzBN,SAASC,cAAc,YAAYC,UAAUK,IAAI,eAMjDP,SAASC,cAAc,YAAYO,mBAAmB,aALtD,qFAFK,QAAA,YAAA;;AC2BA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAjCP,IAAA,EAAA,QAAA,gBAEMC,EAAa,WAGVC,IAFDC,IAAAA,EAAOX,SAASC,cAAc,SAChCS,EAAQC,EAAKC,iBACVF,GACLC,EAAKN,YAAYK,GACjBA,EAAQC,EAAKC,kBAIXC,EAAa,SAACC,EAAMC,GAClBJ,IAAAA,EAIYG,mIAAAA,OAAAA,EAAKE,MAGUF,sGAAAA,OAAAA,EAAKG,KAGVF,gGAAAA,OAAAA,EAV5B,iHAgBAf,SAASC,cAAc,SAASO,mBAAmB,aAAcG,GACjEX,SAASC,cAAc,aAAaiB,iBAAiB,QAAST,GAC9DT,SAASC,cAAc,eAAeiB,iBAAiB,QAAST,IAGrDU,EAAa,SAACC,IACzB,EAAA,EAAA,eACMC,IAAAA,EAAKD,EAAME,OAAOC,QAAQC,OAC1BT,EAAOK,EAAME,OAAOC,QAAQE,SAClCC,MAAoDL,8CAAAA,OAAAA,IACjDM,KAAK,SAACC,GAAaA,OAAAA,EAASC,SAC5BF,KAAK,SAACb,IACL,EAAA,EAAA,eACAD,EAAWC,EAAMC,KAElBe,MAAM,SAACC,IACN,EAAA,EAAA,eACAC,MAAM,0CAZL,QAAA,WAAA;;AC/BA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,4BAAA,EAFP,IAAA,EAAA,QAAA,cAEaC,EAAyB,WACpCC,MAAMC,KAAKnC,SAASoC,iBAAiB,cAAcC,QAAQ,SAACC,GAC1DA,OAAAA,EAAIpB,iBAAiB,QAASC,EAA9B,eAFG,QAAA,uBAAA;;ACmBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EArBP,IAAA,EAAA,QAAA,gBACA,EAAA,QAAA,eAEMoB,EAAe,SAACzB,GACd0B,IACAC,EAAc3B,EAAK4B,IAAI,SAACC,GAGAA,MAAAA,gGAAAA,OAAAA,EAAK5B,KACJ4B,0CAAAA,OAAAA,EAAKC,MAEkBD,yFAAAA,OAAAA,EAAKtB,GAAqBsB,oBAAAA,OAAAA,EAAKC,MALnF,uDASFH,EAAYI,QAXZ,wDAYAJ,EAAYK,KAAK,IACjB9C,SAASC,cAAc,UAAUO,mBAAmB,aAAciC,IAIvDM,EAAgB,YAC3B,EAAA,EAAA,eACArB,MAAM,8CACHC,KAAK,SAACqB,GAIEA,OAHFA,EAAIC,IACPjB,MAAM,uCAEDgB,EAAInB,SAEZF,KAAK,SAACb,IACL,EAAA,EAAA,eACAyB,EAAazB,IACb,EAAA,EAAA,4BAEDgB,MAAM,SAACoB,IACN,EAAA,EAAA,eACAlB,MAAM,0CAhBL,QAAA,cAAA;;ACnBP,aAFA,IAAA,EAAA,QAAA,YAEA,EAAA,EAAA","file":"bundle.js","sourceRoot":"","sourcesContent":["export const hideSpinner = () => {\n  const spinner = document.querySelector(\".ring\");\n  document.querySelector(\".spinner\").classList.remove(\"backdrop-bg\");\n  spinner.parentNode.removeChild(spinner);\n  return;\n};\nexport const showSpinner = () => {\n  document.querySelector(\".spinner\").classList.add(\"backdrop-bg\");\n  const spinner = `\n      <div class=\"ring\">\n        Loading\n        <span></span>\n      </div>`;\n  document.querySelector(\".spinner\").insertAdjacentHTML(\"afterbegin\", spinner);\n};\n","import { hideSpinner, showSpinner } from \"./spinner.js\";\n\nconst removePost = () => {\n  const post = document.querySelector(\"#post\");\n  let child = post.lastElementChild;\n  while (child) {\n    post.removeChild(child);\n    child = post.lastElementChild;\n  }\n};\n\nconst renderPost = (data, name) => {\n  const post = `\n          <div class=\"backdrop\"></div>\n          <div class=\"modal\">\n            <header class=\"header\">\n              <h2>${data.title}</h2>\n            </header>\n            <div class=\"content\">\n              <p class=\"message\">${data.body}</p>\n            </div>\n            <footer class=\"actions\">\n              <p>Written by ${name}</p>\n              <button class=\"action-btn\">Okay</button>\n            </footer>\n          </div>\n      `;\n\n  document.querySelector(\"#post\").insertAdjacentHTML(\"afterbegin\", post);\n  document.querySelector(\".backdrop\").addEventListener(\"click\", removePost);\n  document.querySelector(\".action-btn\").addEventListener(\"click\", removePost);\n};\n\nexport const fetchPosts = (event) => {\n  showSpinner();\n  const id = event.target.dataset.userId;\n  const name = event.target.dataset.userName;\n  fetch(`https://jsonplaceholder.typicode.com/posts/${id}`)\n    .then((response) => response.json())\n    .then((data) => {\n      hideSpinner();\n      renderPost(data, name);\n    })\n    .catch((err) => {\n      hideSpinner();\n      alert(\"Error, Please try once again later.\");\n    });\n};\n","import { fetchPosts } from \"./posts.js\";\n\nexport const registerEventListerner = () => {\n  Array.from(document.querySelectorAll(\".post-btn\")).forEach((btn) =>\n    btn.addEventListener(\"click\", fetchPosts)\n  );\n};\n","import { hideSpinner, showSpinner } from \"./spinner.js\";\nimport { registerEventListerner } from \"./helper.js\";\n\nconst displayUsers = (data) => {\n  const header = `<h3 class=\"page-tile\">All users and their posts</h3>`\n  const htmlContent = data.map((user) => {\n    return `<div class=\"user\">\n                <div class=\"users__item\">\n                    <h3>Name: ${user.name}</h3>\n                    <h4>Email: ${user.email}</h3>\n                </div>\n                <button class='post-btn' data-user-id=${user.id} data-user-name=${user.email}>view post</button>\n            </div>\n        `\n  });\n  htmlContent.unshift(header);\n  htmlContent.join(\"\");\n  document.querySelector(\".users\").insertAdjacentHTML(\"afterbegin\", htmlContent);\n  return;\n};\n\nexport const fetchUserInfo = () => {\n  showSpinner();\n  fetch(\"https://jsonplaceholder.typicode.com/users\")\n    .then((res) => {\n      if (!res.ok) {\n        alert(\"Error, Please try once again later.\");\n      }\n      return res.json();\n    })\n    .then((data) => {\n      hideSpinner();\n      displayUsers(data);\n      registerEventListerner();\n    })\n    .catch((error) => {\n      hideSpinner();\n      alert(\"Error, Please try once again later.\");\n    });\n};\n","import { fetchUserInfo } from \"./users\";\n\nfetchUserInfo();\n"]}